.hover-underline:hover { text-decoration: underline !important; }

/* 代碼區塊樣式：優化深色背景與字體 */
pre:not(.CodeMirror-line):not(.CodeMirror-line-like) { margin: 0; background-color: #1e1e1e; border-radius: 8px; border: 1px solid #333; }
pre:not(.CodeMirror-line):not(.CodeMirror-line-like) code {
    font-family: 'Cascadia Code', 'Fira Code', 'Courier New', monospace;
    font-size: 0.95rem; line-height: 1.6; display: block;
    padding: 25px !important; color: #dcdcdc; min-height: 100%;
}

/* SQL 預覽文字限制 */
.sql-preview { max-width: 400px; color: #666; font-size: 0.85rem; }

@media (max-width: 768px) {
    .sql-preview { max-width: 150px; }
}

/* SQL 編輯器：深色 IDE 風格 (Fallback for non-CodeMirror) */
#sqlEditor {
    font-family: 'Cascadia Code', monospace;
    background-color: #2b2b2b; color: #a9b7c6;
    border: 1px solid #444; border-radius: 12px;
    padding: 15px; width: 100%; height: 240px;
    resize: vertical; outline: none; transition: border-color 0.2s;
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
}
#sqlEditor:focus { border-color: #0d6efd; box-shadow: 0 0 10px rgba(13,110,253,0.15), inset 0 2px 4px rgba(0,0,0,0.2); }

/* CodeMirror 樣式強制修正 */
.CodeMirror {
    box-sizing: content-box !important;
    font-family: 'Cascadia Code', monospace !important;
    min-height: 240px;
    border-radius: 0 0 8px 8px;
}

.CodeMirror pre {
    font-family: inherit !important;
}

/* 確保行號欄位不會被覆蓋 */
.CodeMirror-gutters {
    z-index: 20 !important;
    border-right: 1px solid #444 !important;
    background-color: #272822 !important;
}

/* 修正行號顯示層級 */
.CodeMirror-gutter-wrapper,
.CodeMirror-linenumber {
    z-index: 30 !important;
}

.CodeMirror-linenumbers {
    z-index: 21 !important;
}

/* 快捷鍵提示 */
.kdb-hint { font-size: 0.75rem; color: #999; }
kbd { background-color: #eee; color: #333; padding: 2px 5px; border-radius: 3px; border: 1px solid #ccc; }

/* 截斷文字與顯示全部按鈕 */
td .d-flex {
    max-width: 100%;
}

td .text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* =============================================
   dba-datatable 斑馬紋 (Zebra Stripe)
   奇數列 = 白色，偶數列 = 淡藍灰
   ============================================= */
.dba-datatable tbody tr:nth-child(odd) {
    background-color: #ffffff;
}
.dba-datatable tbody tr:nth-child(even) {
    background-color: #f0f4f8;
}
/* hover 優先覆蓋斑馬紋 */
.dba-datatable tbody tr:hover {
    background-color: #e8f0fe !important;
}
