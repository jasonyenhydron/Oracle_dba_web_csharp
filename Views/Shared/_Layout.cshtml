<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - Oracle DBA 管理系統</title>

    <!-- Tailwind CSS (本地編譯版本) -->
    <link rel="stylesheet" href="~/css/output.css">

    <!-- CodeMirror for SQL syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">

    <style>
        /* 全域樣式 */
        @@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;600;700&display=swap');
        * { font-family: 'Noto Sans TC', system-ui, -apple-system, sans-serif; }

        /* 優化滾動條 */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background-color: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 9999px; }
        ::-webkit-scrollbar-thumb:hover { background-color: #94a3b8; }

        /* DataTable 水平捲軸 */
        .dba-datatable { width: max-content; min-width: 100%; }
        .dba-table-wrapper { overflow-x: auto; min-width: 0; }
        #modalBody, #tableContent { min-width: 0; }
        #dataModal #tableWrapper { overflow: auto; scrollbar-gutter: stable; }
    </style>
</head>
<body>
    @* 把 top.html 拆分過來的 Header View *@
    <partial name="_TopNav" />

    <div class="container mx-auto px-4 py-8">
        @RenderBody()
    </div>

    <!-- JS 資源載入順序 -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>

    <!-- SQL Formatter -->
    <script src="https://cdn.jsdelivr.net/npm/sql-formatter@12.2.4/dist/sql-formatter.min.js"></script>

    <!-- CodeMirror JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/sql/sql.min.js"></script>

    <!-- MVC 前端核心模組 (載入順序：Model → View → Controller) -->
    <script src="~/js/core/api.js"></script>
    <script src="~/js/core/ui.js"></script>
    <script src="~/js/app.js"></script>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
